(this["webpackJsonpbros-front"]=this["webpackJsonpbros-front"]||[]).push([[0],{68:function(e,r,t){},70:function(e,r,t){},81:function(e,r,t){},82:function(e,r,t){},83:function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),c=t(10),s=t.n(c),o=(t(68),t(20)),i=t.n(o),l=t(26),u=t(32),j=t(114),b=t(118),d=t(121),h=t(85),f=t(119),p=t(120),O=t(122),x=(t(70),t.p+"static/media/logo.70f9324f.svg"),v=t(37),g=t(38),m=function(){function e(){Object(v.a)(this,e)}return Object(g.a)(e,null,[{key:"post",value:function(){var e=Object(l.a)(i.a.mark((function e(r,t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.BASE_URL+r,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",this.handleResponse(n));case 4:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"handleResponse",value:function(){var e=Object(l.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.status>=400)){e.next=6;break}return e.next=3,r.json();case 3:throw e.sent;case 6:return e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}]),e}();m.BASE_URL="https://bros-back-end.herokuapp.com";var k=t(11),y=t(6);function C(e){var r=Object(n.useState)({error:!1,errorText:null,value:null}),t=Object(u.a)(r,2),a=t[0],c=t[1],s=Object(n.useState)({error:!1,errorText:null,value:null}),o=Object(u.a)(s,2),v=o[0],g=o[1],C=Object(k.f)(),T=Object(n.useCallback)((function(e,r){e.target.value?r({error:!1,errorText:null,value:e.target.value}):r({error:!0,errorText:"Required",value:null})}),[]),w=Object(n.useCallback)(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.post("/auth/signin",{email:a.value,password:v.value});case 3:C.push(R),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[a.value,v.value,C]),B=Object(n.useCallback)((function(e){e.preventDefault(),C.push(U)}),[C]);return Object(y.jsx)("div",{className:"login-component",children:Object(y.jsxs)(j.a,{children:[Object(y.jsxs)(b.a,{children:[Object(y.jsx)("div",{className:"logo-wrapper",children:Object(y.jsx)("img",{src:x,alt:"bros and beers logo"})}),Object(y.jsxs)("form",{autoComplete:"off",children:[Object(y.jsx)(d.a,{onChange:function(e){return T(e,c)},error:a.error,helperText:a.errorText,label:"Email",variant:"outlined"}),Object(y.jsx)(d.a,{onChange:function(e){return T(e,g)},type:"password",error:v.error,helperText:v.errorText,label:"Password",variant:"outlined"}),Object(y.jsxs)(h.a,{children:["Don't have an account ?",Object(y.jsx)("span",{className:"register-link",children:Object(y.jsx)(f.a,{href:"#",onClick:B,children:"Register now !"})})]})]})]}),Object(y.jsx)(p.a,{children:Object(y.jsx)(O.a,{onClick:w,disabled:a.error||v.error,variant:"contained",color:"primary",children:"Login"})})]})})}var T=t(47);t(81);function w(e){return Object(y.jsx)("div",{className:"profile-component",children:Object(y.jsx)(j.a,{children:Object(y.jsx)(b.a,{children:Object(y.jsx)("p",{children:"This is a profile"})})})})}var B=t(36),S=t(124),N=(t(82),function(){function e(){Object(v.a)(this,e)}return Object(g.a)(e,null,[{key:"arrayBufferToBase64",value:function(e){for(var r="",t=new Uint8Array(e),n=t.byteLength,a=0;a<n;a++)r+=String.fromCharCode(t[a]);return window.btoa(r)}},{key:"stringToUInt8ArrayBuffer",value:function(e){return Uint8Array.from(e,(function(e){return e.charCodeAt(0)}))}}]),e}());function A(e){var r=Object(n.useState)({error:!1,errorText:null,value:null}),t=Object(u.a)(r,2),a=t[0],c=t[1],s=Object(n.useState)(!1),o=Object(u.a)(s,2),v=o[0],g=o[1],C=Object(k.f)(),T=Object(n.useCallback)((function(e,r){"clickaway"!==r&&g(!1)}),[]),w=Object(n.useCallback)((function(e,r){e.target.value?r({error:!1,errorText:null,value:e.target.value}):r({error:!0,errorText:"Required",value:null})}),[]),A=Object(n.useCallback)((function(e){e.preventDefault(),C.push("")}),[C]),R=Object(n.useCallback)(Object(l.a)(i.a.mark((function e(){var r,t,n,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.post("/auth/register",{email:a.value});case 3:return r=e.sent,t=r.credentialCreationOptions,n=Object(B.a)(Object(B.a)({},t),{},{challenge:N.stringToUInt8ArrayBuffer(t.challenge),user:Object(B.a)(Object(B.a)({},t.user),{},{id:N.stringToUInt8ArrayBuffer(t.user.id)})}),e.next=8,navigator.credentials.create({publicKey:n});case 8:return c=e.sent,s={publicKeyCredential:{id:c.id,rawId:N.arrayBufferToBase64(c.rawId),response:{attestationObject:N.arrayBufferToBase64(c.response.attestationObject),clientDataJSON:N.arrayBufferToBase64(c.response.clientDataJSON)}}},e.next=12,m.post("/auth/signup",s);case 12:e.sent,g(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),[a.value]);return Object(y.jsxs)("div",{className:"register-component",children:[Object(y.jsxs)(j.a,{children:[Object(y.jsxs)(b.a,{children:[Object(y.jsx)("div",{className:"logo-wrapper",children:Object(y.jsx)("img",{src:x,alt:"bros and beers logo"})}),Object(y.jsxs)("form",{autoComplete:"off",children:[Object(y.jsx)(d.a,{onChange:function(e){return w(e,c)},error:a.error,helperText:a.errorText,label:"Email",variant:"outlined"}),Object(y.jsxs)(h.a,{children:["Already have an account ?",Object(y.jsx)("span",{className:"register-link",children:Object(y.jsx)(f.a,{href:"#",onClick:A,children:"Login now !"})})]})]})]}),Object(y.jsx)(p.a,{children:Object(y.jsx)(O.a,{onClick:R,disabled:a.error,variant:"contained",color:"primary",children:"Register"})})]}),Object(y.jsx)(S.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:v,autoHideDuration:6e3,onClose:T,message:"Biometric data sent to Kim Jong-Un"})]})}var R="/profile",U="/register";var D=function(){return Object(y.jsx)(T.a,{children:Object(y.jsxs)(k.c,{children:[Object(y.jsx)(k.a,{path:R,children:Object(y.jsx)(w,{})}),Object(y.jsx)(k.a,{path:U,children:Object(y.jsx)(A,{})}),Object(y.jsx)(k.a,{path:"/",children:Object(y.jsx)(C,{})})]})})},I=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,125)).then((function(r){var t=r.getCLS,n=r.getFID,a=r.getFCP,c=r.getLCP,s=r.getTTFB;t(e),n(e),a(e),c(e),s(e)}))};s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(D,{})}),document.getElementById("root")),I()}},[[83,1,2]]]);
//# sourceMappingURL=main.57622cf3.chunk.js.map